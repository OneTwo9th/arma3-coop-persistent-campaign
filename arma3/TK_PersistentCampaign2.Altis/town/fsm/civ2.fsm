/*%FSM<COMPILE "C:\Program Files (x86)\Bohemia Interactive\Tools\FSM Editor Personal Edition\scriptedFSM.cfg, civ2">*/
/*%FSM<HEAD>*/
/*
item0[] = {"Start",0,250,-24.471828,-187.864349,65.528168,-137.864349,0.000000,"Start"};
item1[] = {"isServer",4,218,-24.471794,-266.944031,65.528183,-216.944031,0.000000,"isServer"};
item2[] = {"__isServer",4,218,-136.539307,-267.034973,-46.539360,-217.034882,0.000000,"!isServer"};
item3[] = {"Ende1",1,250,-263.067017,-267.035034,-173.067322,-217.035095,0.000000,"Ende1"};
item4[] = {"nachdenken",2,250,-26.502886,-827.857239,63.497139,-777.856567,0.000000,"nachdenken"};
item5[] = {"___5",4,218,-421.273285,-934.232605,-371.849457,-891.254761,100.000000,"0.5"};
item6[] = {"___7",4,218,-263.658600,-934.022888,-214.328125,-893.060242,90.000000,"0.7"};
item7[] = {"warten",2,250,-24.511734,-344.535553,65.488235,-294.535553,0.000000,"warten"};
item8[] = {"Zeit",4,218,2.711161,-392.974091,37.809196,-366.883698,0.000000,"Zeit"};
item9[] = {"__",4,218,336.860413,-923.576477,365.967041,-892.604126,0.000000,"1"};
item10[] = {"Supplies_suchen",2,250,-282.510559,-998.984985,-192.510620,-948.984985,0.000000,"Supplies" \n "suchen"};
item11[] = {"JA",4,218,-260.333160,-1061.842285,-213.145996,-1019.223816,100.000000,"JA"};
item12[] = {"NO",4,218,-317.934052,-1063.232178,-274.182678,-1017.779297,0.000000,"NO"};
item13[] = {"hingehen",2,250,-282.723694,-1136.400146,-192.723694,-1086.400146,0.000000,"hingehen"};
item14[] = {"OK",4,218,-259.458282,-1212.555420,-216.240234,-1171.767334,0.000000,"OK"};
item15[] = {"ER",4,218,-347.307129,-1209.229004,-301.148834,-1170.087891,0.000000,"ER"};
item16[] = {"Aufnehmen",2,250,-284.291138,-1288.368408,-194.291138,-1238.368408,0.000000,"Aufnehmen"};
item17[] = {"time",4,218,-259.956543,-1353.918091,-218.288345,-1319.301880,0.000000,"time"};
item18[] = {"Entfernung__100m",2,250,-26.604120,-998.695740,63.395973,-948.695740,0.000000,"Entfernung" \n ">100m"};
item19[] = {"JA",4,218,-4.895334,-1069.592773,35.082542,-1032.919434,100.000000,"JA"};
item20[] = {"___9",4,218,152.555267,-922.598755,184.492554,-892.237488,70.000000,"0.9"};
item21[] = {"herumlaufen",2,250,123.114578,-997.664368,213.113953,-947.664795,0.000000,"herumlaufen"};
item22[] = {"___8",4,218,-0.678507,-924.256165,37.235832,-891.333496,80.000000,"0.8"};
item23[] = {"nach_Hause",2,250,-30.054653,-1516.852661,59.945370,-1466.852661,0.000000,"nach Hause"};
item24[] = {"failed",4,218,-34.323997,-1591.992554,13.836795,-1548.823608,0.000000,"failed"};
item25[] = {"OK",4,218,16.053944,-1591.138794,60.799126,-1547.969604,0.000000,"OK"};
item26[] = {"Ende",1,250,-28.346905,-1678.232544,61.653126,-1628.232544,0.000000,"Ende"};
item27[] = {"NO",4,218,-73.598465,-1070.830811,-32.793739,-1030.670166,0.000000,"NO"};
item28[] = {"ER",4,218,207.431091,-1064.958496,246.455597,-1025.699951,0.000000,"ER"};
item29[] = {"OK",4,218,147.270233,-1065.444092,186.106659,-1026.248291,0.000000,"OK"};
item30[] = {"nix",2,250,306.480225,-997.340576,396.480316,-947.340515,0.000000,"nix"};
item31[] = {"_",4,218,407.020477,-1039.727783,435.204773,-1016.102478,0.000000,""};
item32[] = {"Medic_suchen",2,250,-53.771450,-572.872070,3.323000,-533.824341,0.000000,"Medic" \n "suchen"};
item33[] = {"",7,210,-328.007477,-323.791168,-320.007477,-315.791168,0.000000,""};
item34[] = {"",7,210,-119.504013,-323.783112,-111.504021,-315.783142,0.000000,""};
item35[] = {"",7,210,-299.807220,-323.642334,-291.807251,-315.642334,0.000000,""};
item36[] = {"",7,210,264.064056,-323.638947,272.064056,-315.638947,0.000000,""};
item37[] = {"",7,210,223.168243,-324.068085,231.168243,-316.068085,0.000000,""};
item38[] = {"verletzt_",2,250,-11.231905,-448.703705,51.631866,-419.055908,0.000000,"verletzt?"};
item39[] = {"No",4,218,0.340105,-511.607910,37.066338,-476.811493,0.000000,"No"};
item40[] = {"JA",4,218,-36.356148,-511.242218,-0.628633,-478.202362,100.000000,"JA"};
item41[] = {"",7,210,-401.084412,-323.414368,-393.084381,-315.414307,0.000000,""};
item42[] = {"No",4,218,-24.937904,-614.300903,6.357029,-586.855286,0.000000,"No"};
item43[] = {"Ja",4,218,-70.945175,-615.247253,-40.882442,-587.935486,100.000000,"Ja"};
item44[] = {"zum_medic_gehen",2,4346,-576.061951,-733.343628,-486.061890,-683.343628,0.000000,"zum medic" \n "gehen"};
item45[] = {"",7,210,-119.064346,-1055.005859,-111.064346,-1047.005859,0.000000,""};
item46[] = {"ER",4,218,-615.136780,-843.186951,-568.399231,-801.685303,0.000000,"ER"};
item47[] = {"OK",4,218,-557.454407,-844.936462,-504.371307,-797.397644,0.000000,"OK"};
item48[] = {"fnc",2,250,-553.456055,-1214.136597,-510.055847,-1184.640503,0.000000,"fnc"};
item49[] = {"",7,210,163.619324,-1103.328613,171.619324,-1095.328613,0.000000,""};
item50[] = {"",7,210,261.058533,-1103.357178,269.058533,-1095.357178,0.000000,""};
item51[] = {"",7,210,416.808075,-323.682495,424.808075,-315.682495,0.000000,""};
item52[] = {"",7,210,-596.832458,-322.591675,-588.832458,-314.591675,0.000000,""};
item53[] = {"warten_1",2,250,-577.464661,-942.129395,-487.464722,-892.129395,0.000000,"warten"};
item54[] = {"Zeit",4,218,-550.241760,-990.567993,-515.143738,-964.477539,0.000000,"Zeit"};
item55[] = {"verletzt__1",2,250,-564.184875,-1046.297607,-501.321106,-1016.649780,0.000000,"verletzt?"};
item56[] = {"No",4,218,-550.561035,-1114.331299,-513.834839,-1079.534912,0.000000,"No"};
item57[] = {"JA",4,218,-587.257324,-1113.965576,-551.529785,-1080.925781,100.000000,"JA"};
item58[] = {"",7,210,-640.271606,-556.808411,-632.271606,-548.808411,0.000000,""};
item59[] = {"",7,210,-639.245728,-1101.056396,-631.245728,-1093.056152,0.000000,""};
item60[] = {"aktiv_",2,250,-79.640846,-679.868774,-30.329689,-652.182068,0.000000,"aktiv?"};
item61[] = {"JA",4,218,-97.140305,-721.401367,-61.610893,-695.683411,100.000000,"JA"};
item62[] = {"No",4,218,-43.969803,-725.348572,-12.674864,-697.902954,0.000000,"No"};
item63[] = {"_",4,218,-546.541321,-1505.065308,-517.120850,-1479.297241,0.000000,""};
link0[] = {0,1};
link1[] = {0,2};
link2[] = {1,7};
link3[] = {2,3};
link4[] = {4,5};
link5[] = {4,6};
link6[] = {4,9};
link7[] = {4,20};
link8[] = {4,22};
link9[] = {5,41};
link10[] = {6,10};
link11[] = {7,8};
link12[] = {8,38};
link13[] = {9,30};
link14[] = {10,11};
link15[] = {10,12};
link16[] = {11,13};
link17[] = {12,35};
link18[] = {13,14};
link19[] = {13,15};
link20[] = {14,16};
link21[] = {15,33};
link22[] = {16,17};
link23[] = {17,23};
link24[] = {18,19};
link25[] = {18,27};
link26[] = {19,23};
link27[] = {20,21};
link28[] = {21,28};
link29[] = {21,29};
link30[] = {22,18};
link31[] = {23,24};
link32[] = {23,25};
link33[] = {24,26};
link34[] = {25,26};
link35[] = {27,45};
link36[] = {28,37};
link37[] = {29,49};
link38[] = {30,31};
link39[] = {31,51};
link40[] = {32,42};
link41[] = {32,43};
link42[] = {33,7};
link43[] = {34,7};
link44[] = {35,7};
link45[] = {36,7};
link46[] = {37,7};
link47[] = {38,39};
link48[] = {38,40};
link49[] = {39,4};
link50[] = {40,32};
link51[] = {41,7};
link52[] = {42,4};
link53[] = {43,60};
link54[] = {44,46};
link55[] = {44,47};
link56[] = {45,34};
link57[] = {46,52};
link58[] = {47,53};
link59[] = {48,63};
link60[] = {49,50};
link61[] = {50,36};
link62[] = {51,7};
link63[] = {52,7};
link64[] = {53,54};
link65[] = {54,55};
link66[] = {55,56};
link67[] = {55,57};
link68[] = {56,48};
link69[] = {57,59};
link70[] = {58,32};
link71[] = {59,58};
link72[] = {60,61};
link73[] = {60,62};
link74[] = {61,44};
link75[] = {62,4};
link76[] = {63,23};
globals[] = {0.000000,0,0,0,0,640,480,1,98,6316128,1,-972.677002,1079.920288,-210.104538,-1776.983154,1403,1071,1};
window[] = {2,-1,-1,-1,-1,1155,275,1715,275,3,1421};
*//*%FSM</HEAD>*/
class FSM
{
  fsmName = "civ2";
  class States
  {
    /*%FSM<STATE "Start">*/
    class Start
    {
      name = "Start";
      init = /*%FSM<STATEINIT""">*/"_townName = _leader getVariable ""townName"";" \n
       "_townCenter = _leader getVariable ""townCenter"";" \n
       "_townRadius = _leader getVariable ""townRadius"";" \n
       "_home = _leader getVariable ""townHome"";" \n
       "" \n
       "diag_log format[""FSM: start %1 %2 %3 %4"", _townName, _townCenter, _townRadius, _home];"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "__isServer">*/
        class __isServer
        {
          priority = 0.000000;
          to="Ende1";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!isServer"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "isServer">*/
        class isServer
        {
          priority = 0.000000;
          to="warten";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"isServer"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "Ende1">*/
    class Ende1
    {
      name = "Ende1";
      init = /*%FSM<STATEINIT""">*/"diag_log ""FSM: Ende"";"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "nachdenken">*/
    class nachdenken
    {
      name = "nachdenken";
      init = /*%FSM<STATEINIT""">*/"_decision = random 1;" \n
       "diag_log format[""FSM: nachdenken %1"", _decision];"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "___5">*/
        class ___5
        {
          priority = 100.000000;
          to="warten";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_decision < 0.1"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "___7">*/
        class ___7
        {
          priority = 90.000000;
          to="Supplies_suchen";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_decision < 0.7"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "___8">*/
        class ___8
        {
          priority = 80.000000;
          to="Entfernung__100m";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_decision < 0.8"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "___9">*/
        class ___9
        {
          priority = 70.000000;
          to="herumlaufen";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_decision < 0.9"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "__">*/
        class __
        {
          priority = 0.000000;
          to="nix";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_decision <= 1"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "warten">*/
    class warten
    {
      name = "warten";
      init = /*%FSM<STATEINIT""">*/"_decision = time + 3;" \n
       "diag_log ""FSM: warten (main)"";"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "Zeit">*/
        class Zeit
        {
          priority = 0.000000;
          to="verletzt_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"(_decision < time)"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "Supplies_suchen">*/
    class Supplies_suchen
    {
      name = "Supplies_suchen";
      init = /*%FSM<STATEINIT""">*/"_supplies = nearestObjects[(getPos _leader), [""Land_WaterTank_F"",""Land_Sacks_heap_F""], 300];" \n
       "diag_log format[""FSM: Supplies gesucht: %1"", count _supplies];" \n
       ""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "JA">*/
        class JA
        {
          priority = 100.000000;
          to="hingehen";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"(count _supplies) > 0"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "NO">*/
        class NO
        {
          priority = 0.000000;
          to="warten";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "hingehen">*/
    class hingehen
    {
      name = "hingehen";
      init = /*%FSM<STATEINIT""">*/"_supplies = _supplies select (floor(random( count _supplies)));" \n
       "_leader moveTo (getPos _supplies);" \n
       "diag_log ""FSM: Gehe zu supplies"";"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "ER">*/
        class ER
        {
          priority = 0.000000;
          to="warten";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"moveToFailed _leader"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "OK">*/
        class OK
        {
          priority = 0.000000;
          to="Aufnehmen";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"moveToCompleted _leader"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "Aufnehmen">*/
    class Aufnehmen
    {
      name = "Aufnehmen";
      init = /*%FSM<STATEINIT""">*/"private[""_content""];" \n
       "_content = _supplies getVariable ""content"";" \n
       "if (isNil ""_content"") then { _content = 2;};" \n
       "_content = _content - 1;" \n
       "if (_content <= 0) then { deleteVehicle _supplies;} else {_supplies setVariable [""content"", _content];};" \n
       "" \n
       "_decision = time + 2;" \n
       "diag_log format[""FSM: Nehme Waren auf. Rest: %1. %2"", _content, _supplies];" \n
       "" \n
       "if (_supplies isKindOf ""Land_WaterTank_F"") then { [_townName, 1] call PC_fnc_TownParam_WaterAdd;};" \n
       "if (_supplies isKindOf ""Land_Sacks_heap_F"") then { [_townName, 1] call PC_fnc_TownParam_FoodAdd;};"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "time">*/
        class time
        {
          priority = 0.000000;
          to="nach_Hause";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"(_decision < time)"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "Entfernung__100m">*/
    class Entfernung__100m
    {
      name = "Entfernung__100m";
      init = /*%FSM<STATEINIT""">*/"_decision = (getPos _leader) distance _home;" \n
       "diag_log format[""FSM: Entfernung nach Hause: %1"", _decision];"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "JA">*/
        class JA
        {
          priority = 100.000000;
          to="nach_Hause";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_decision > 100"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "NO">*/
        class NO
        {
          priority = 0.000000;
          to="warten";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "herumlaufen">*/
    class herumlaufen
    {
      name = "herumlaufen";
      init = /*%FSM<STATEINIT""">*/"_leader moveTo [((getPos _leader) select 0) + (random 300), ((getPos _leader) select 1) + (random 300), 0];" \n
       "diag_log ""FSM: herumlaufen"";"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "OK">*/
        class OK
        {
          priority = 0.000000;
          to="warten";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"moveToCompleted _leader"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "ER">*/
        class ER
        {
          priority = 0.000000;
          to="warten";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"moveToFailed _leader"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "nach_Hause">*/
    class nach_Hause
    {
      name = "nach_Hause";
      init = /*%FSM<STATEINIT""">*/"_leader moveTo _home;" \n
       "diag_log format[""FSM: Gehe nach Hause: %1"", _home];"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "OK">*/
        class OK
        {
          priority = 0.000000;
          to="Ende";
          precondition = /*%FSM<CONDPRECONDITION""">*/"moveToCompleted _leader"/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"moveToCompleted _leader"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"diag_log ""moveToCompleted"";"/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "failed">*/
        class failed
        {
          priority = 0.000000;
          to="Ende";
          precondition = /*%FSM<CONDPRECONDITION""">*/"moveToFailed _leader"/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"moveToFailed _leader"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"diag_log ""moveToFailed"";"/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "Ende">*/
    class Ende
    {
      name = "Ende";
      init = /*%FSM<STATEINIT""">*/"deleteVehicle _leader;" \n
       "diag_log ""FSM: ENDE. Unit deleted"";"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "nix">*/
    class nix
    {
      name = "nix";
      init = /*%FSM<STATEINIT""">*/"diag_log ""FSM: nic zu tun"";"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "_">*/
        class _
        {
          priority = 0.000000;
          to="warten";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "Medic_suchen">*/
    class Medic_suchen
    {
      name = "Medic_suchen";
      init = /*%FSM<STATEINIT""">*/"_medic = nearestObjects[(getPos _leader), [""B_Truck_01_medical_F""], 300];" \n
       "if (count _medic > 0) then { _medic = _medic select 0;} else {_medic = nil;};" \n
       "diag_log format[""FSM: Medic gesucht: %1"", _medic];"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "Ja">*/
        class Ja
        {
          priority = 100.000000;
          to="aktiv_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!isNil ""_medic"""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "No">*/
        class No
        {
          priority = 0.000000;
          to="nachdenken";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "verletzt_">*/
    class verletzt_
    {
      name = "verletzt_";
      init = /*%FSM<STATEINIT""">*/"_decision = getDammage _leader;" \n
       "diag_log format[""FSM: verletzt %1"", _decision];"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "JA">*/
        class JA
        {
          priority = 100.000000;
          to="Medic_suchen";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"(_decision > 0.1)"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "No">*/
        class No
        {
          priority = 0.000000;
          to="nachdenken";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "zum_medic_gehen">*/
    class zum_medic_gehen
    {
      name = "zum_medic_gehen";
      init = /*%FSM<STATEINIT""">*/"_leader moveTo (getPos _medic);" \n
       "diag_log format[""FSM: gehe zum Medic %1"", (getPos _medic)];"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "OK">*/
        class OK
        {
          priority = 0.000000;
          to="warten_1";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"moveToCompleted _leader"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "ER">*/
        class ER
        {
          priority = 0.000000;
          to="warten";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"moveToFailed _leader"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "fnc">*/
    class fnc
    {
      name = "fnc";
      init = /*%FSM<STATEINIT""">*/"[_townName, -1] call PC_fnc_TownParam_InjuredAdd;" \n
       "diag_log ""FSM: Verringere Stadt Injured Parameter"";"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "_">*/
        class _
        {
          priority = 0.000000;
          to="nach_Hause";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "warten_1">*/
    class warten_1
    {
      name = "warten_1";
      init = /*%FSM<STATEINIT""">*/"_decision = time + 3;" \n
       "diag_log ""FSM: Warte auf Heilung"";"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "Zeit">*/
        class Zeit
        {
          priority = 0.000000;
          to="verletzt__1";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"(_decision < time)"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "verletzt__1">*/
    class verletzt__1
    {
      name = "verletzt__1";
      init = /*%FSM<STATEINIT""">*/"_decision = getDammage _leader;" \n
       "diag_log format[""FSM: Noch verletzt? %1"", _decision];"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "JA">*/
        class JA
        {
          priority = 100.000000;
          to="Medic_suchen";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"(_decision > 0.1)"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "No">*/
        class No
        {
          priority = 0.000000;
          to="fnc";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "aktiv_">*/
    class aktiv_
    {
      name = "aktiv_";
      init = /*%FSM<STATEINIT""">*/"_active = _medic getVariable [""active"", false];" \n
       "diag_log format[""FSM: medic active: %1"", _active];"/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "JA">*/
        class JA
        {
          priority = 100.000000;
          to="zum_medic_gehen";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_active"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "No">*/
        class No
        {
          priority = 0.000000;
          to="nachdenken";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!_active"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
  };
  initState="Start";
  finalStates[] =
  {
    "Ende1",
    "Ende",
  };
};
/*%FSM</COMPILE>*/